{"remainingRequest":"/media/cyriac/0CC5166B0CC5166B/Work/react-use-fetcher/demo/node_modules/docz-core/node_modules/thread-loader/dist/cjs.js??ref--11-1!/media/cyriac/0CC5166B0CC5166B/Work/react-use-fetcher/demo/node_modules/babel-loader/lib/index.js??ref--11-2!/media/cyriac/0CC5166B0CC5166B/Work/react-use-fetcher/demo/node_modules/source-map-loader/index.js!/media/cyriac/0CC5166B0CC5166B/Work/react-use-fetcher/demo/src/components/TodoExample.tsx","dependencies":[{"path":"/media/cyriac/0CC5166B0CC5166B/Work/react-use-fetcher/demo/src/components/TodoExample.tsx","mtime":1565894511961},{"path":"/media/cyriac/0CC5166B0CC5166B/Work/react-use-fetcher/demo/node_modules/docz-core/node_modules/cache-loader/dist/cjs.js","mtime":1562869367178},{"path":"/media/cyriac/0CC5166B0CC5166B/Work/react-use-fetcher/demo/node_modules/docz-core/node_modules/thread-loader/dist/cjs.js","mtime":1565884443058},{"path":"/media/cyriac/0CC5166B0CC5166B/Work/react-use-fetcher/demo/node_modules/babel-loader/lib/index.js","mtime":1562869367050},{"path":"/media/cyriac/0CC5166B0CC5166B/Work/react-use-fetcher/demo/node_modules/source-map-loader/index.js","mtime":1562869367869}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvbWVkaWEvY3lyaWFjLzBDQzUxNjZCMENDNTE2NkIvV29yay9yZWFjdC11c2UtZmV0Y2hlci9kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvbWVkaWEvY3lyaWFjLzBDQzUxNjZCMENDNTE2NkIvV29yay9yZWFjdC11c2UtZmV0Y2hlci9kZW1vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKdmFyIF9qc3hGaWxlTmFtZSA9ICIvbWVkaWEvY3lyaWFjLzBDQzUxNjZCMENDNTE2NkIvV29yay9yZWFjdC11c2UtZmV0Y2hlci9kZW1vL3NyYy9jb21wb25lbnRzL1RvZG9FeGFtcGxlLnRzeCI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5lbnRlck1vZHVsZSA6IHVuZGVmaW5lZDsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9Cgp2YXIgX19zaWduYXR1cmVfXyA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0LnNpZ25hdHVyZSA6IGZ1bmN0aW9uIChhKSB7CiAgcmV0dXJuIGE7Cn07CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlRmV0Y2hlciwgRmV0Y2hlciB9IGZyb20gJ3VzZS1mZXRjaGVyLXJlYWN0JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKY29uc3QgZmV0Y2hlck9wdGlvbnMgPSB7CiAgYnV0dG9uQ29tcG9uZW50OiAoewogICAgZG9SZXRyeQogIH0pID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoImEiLCB7CiAgICBjbGFzc05hbWU6ICJidXR0b24gaXMtZGFuZ2VyIiwKICAgIG9uQ2xpY2s6IGRvUmV0cnksCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgIlJldHJ5IiksCiAgbG9hZGVyQ29tcG9uZW50OiAoKSA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsKSwKICBwcm9ncmVzczogewogICAgc2hvdzogdHJ1ZSwKICAgIGNvbG9yOiAnIzIwOWNlZScsCiAgICB0aWNrRGVsYXk6IHsKICAgICAgbWluOiA1MCwKICAgICAgbWF4OiAxNTAKICAgIH0KICB9Cn07CgppZiAodHlwZW9mIFRvZG8gIT09ICd1bmRlZmluZWQnICYmIFRvZG8gJiYgVG9kbyA9PT0gT2JqZWN0KFRvZG8pICYmIE9iamVjdC5pc0V4dGVuc2libGUoVG9kbykpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVG9kbywgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIlRvZG8iLAogICAgICBmaWxlbmFtZTogInNyYy9jb21wb25lbnRzL1RvZG9FeGFtcGxlLnRzeCIKICAgIH0KICB9KTsKfQoKaWYgKHR5cGVvZiBUb2RvSXRlbVByb3BzICE9PSAndW5kZWZpbmVkJyAmJiBUb2RvSXRlbVByb3BzICYmIFRvZG9JdGVtUHJvcHMgPT09IE9iamVjdChUb2RvSXRlbVByb3BzKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKFRvZG9JdGVtUHJvcHMpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRvZG9JdGVtUHJvcHMsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJUb2RvSXRlbVByb3BzIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvY29tcG9uZW50cy9Ub2RvRXhhbXBsZS50c3giCiAgICB9CiAgfSk7Cn0KCmNvbnN0IFRvZG9JdGVtID0gKHsKICB0b2RvLAogIG9uQ29tcGxldGUsCiAgb25EZWxldGUKfSkgPT4gewogIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJ0b2RvLWl0ZW0iLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzMKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzNAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICBjbGFzc05hbWU6ICJpY29uIiwKICAgIG9uQ2xpY2s6ICgpID0+IG9uQ29tcGxldGUodG9kbyksCiAgICBzdHlsZTogewogICAgICBvcGFjaXR5OiB0b2RvLmNvbXBsZXRlZCA/IDAuMjUgOiAxCiAgICB9LAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMzUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KCJpIiwgewogICAgY2xhc3NOYW1lOiAiZmFzIGZhLWNoZWNrIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM3CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSkpLCBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgY2xhc3NOYW1lOiAiaWNvbiIsCiAgICBvbkNsaWNrOiAoKSA9PiBvbkRlbGV0ZSh0b2RvKSwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDM5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudCgiaSIsIHsKICAgIGNsYXNzTmFtZTogImZhcyBmYS10aW1lcyIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICBzdHlsZTogewogICAgICB0ZXh0RGVjb3JhdGlvbjogdG9kby5jb21wbGV0ZWQgPyAnbGluZS10aHJvdWdoJyA6ICdub25lJwogICAgfSwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgdG9kby50aXRsZSkpOwp9OwoKY29uc3QgVG9kb0FwcCA9ICgpID0+IHsKICBjb25zdCBmZXRjaGVyID0gdXNlRmV0Y2hlcihmZXRjaGVyT3B0aW9ucyk7CgogIGNvbnN0IF91c2VTdGF0ZSA9IHVzZVN0YXRlKFtdKSwKICAgICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgICBpdGVtcyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgICAgc2V0SXRlbXMgPSBfdXNlU3RhdGUyWzFdOwoKICBjb25zdCBfdXNlU3RhdGUzID0gdXNlU3RhdGUoJycpLAogICAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgICB0aXRsZSA9IF91c2VTdGF0ZTRbMF0sCiAgICAgICAgc2V0VGl0bGUgPSBfdXNlU3RhdGU0WzFdOwoKICBjb25zdCBsb2FkID0gKCkgPT4gewogICAgbGV0IHJlcXVlc3QgPSAoKSA9PiBheGlvcy5nZXQoJ2h0dHBzOi8vY3J1ZHBpLmlvLzU4N2UxYi90b2RvJyk7CgogICAgZmV0Y2hlci5mZXRjaChyZXF1ZXN0LCByZXN1bHQgPT4gewogICAgICBzZXRJdGVtcyhyZXN1bHQpOwogICAgfSk7CiAgfTsKCiAgdXNlRWZmZWN0KCgpID0+IGxvYWQoKSwgW10pOwoKICBjb25zdCBhZGRUb2RvID0gKCkgPT4gewogICAgaWYgKCF0aXRsZSkgcmV0dXJuOwogICAgY29uc3QgaXRlbSA9IHsKICAgICAgaWQ6IG51bGwsCiAgICAgIHRpdGxlLAogICAgICBjb21wbGV0ZWQ6IGZhbHNlCiAgICB9OwoKICAgIGxldCByZXF1ZXN0ID0gKCkgPT4gYXhpb3MucG9zdCgnaHR0cHM6Ly9jcnVkcGkuaW8vNTg3ZTFiL3RvZG8nLCBpdGVtKTsKCiAgICBmZXRjaGVyLmZldGNoKHJlcXVlc3QsIHRvZG8gPT4gewogICAgICBzZXRJdGVtcyhbLi4uaXRlbXMsIHRvZG9dKTsKICAgIH0pOwogIH07CgogIGNvbnN0IHRvZ2dsZUl0ZW1Db21wbGV0ZWQgPSBpdGVtID0+IHsKICAgIGxldCByZXF1ZXN0ID0gKCkgPT4gYXhpb3MucHV0KCdodHRwczovL2NydWRwaS5pby81ODdlMWIvdG9kby8nICsgaXRlbS5pZCwgX29iamVjdFNwcmVhZCh7fSwgaXRlbSwgewogICAgICBjb21wbGV0ZWQ6ICFpdGVtLmNvbXBsZXRlZAogICAgfSkpOwoKICAgIGZldGNoZXIuZmV0Y2gocmVxdWVzdCwgXyA9PiB7CiAgICAgIGl0ZW0uY29tcGxldGVkID0gIWl0ZW0uY29tcGxldGVkOwogICAgICBzZXRJdGVtcyhbLi4uaXRlbXNdKTsKICAgIH0pOwogIH07CgogIGNvbnN0IGRlbGV0ZUl0ZW0gPSBpdGVtID0+IHsKICAgIGxldCByZXF1ZXN0ID0gKCkgPT4gYXhpb3MuZGVsZXRlKCdodHRwczovL2NydWRwaS5pby81ODdlMWIvdG9kby8nICsgaXRlbS5pZCk7CgogICAgZmV0Y2hlci5mZXRjaChyZXF1ZXN0LCBfID0+IHsKICAgICAgc2V0SXRlbXMoaXRlbXMuZmlsdGVyKGkgPT4gaSAhPT0gaXRlbSkpOwogICAgfSk7CiAgfTsKCiAgY29uc3QgcmVuZGVySW5wdXQgPSAoKSA9PiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJmaWVsZCBoYXMtYWRkb25zIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDk0CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAiY29udHJvbCIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA5NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImlucHV0IiwgewogICAgY2xhc3NOYW1lOiAiaW5wdXQiLAogICAgdHlwZTogInRleHQiLAogICAgcGxhY2Vob2xkZXI6ICJNeSB0b2RvIGl0ZW0iLAogICAgdmFsdWU6IHRpdGxlLAogICAgb25DaGFuZ2U6IGUgPT4gc2V0VGl0bGUoZS50YXJnZXQudmFsdWUpLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogOTYKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgIGNsYXNzTmFtZTogImNvbnRyb2wiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogOTkKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KCJhIiwgewogICAgY2xhc3NOYW1lOiAiYnV0dG9uIGlzLXByaW1hcnkiLAogICAgb25DbGljazogYWRkVG9kbywKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEwMAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICBjbGFzc05hbWU6ICJpY29uIGlzLXNtYWxsIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEwMQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImkiLCB7CiAgICBjbGFzc05hbWU6ICJmYXMgZmEtcGx1cyIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMDIKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSkpKSk7CgogIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJ0b2RvLWNhcmQiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTEwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChGZXRjaGVyLCB7CiAgICBmZXRjaGVyOiBmZXRjaGVyLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTExCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAidC1jb250YWluZXIiLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMTEyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudCgiaDUiLCB7CiAgICBjbGFzc05hbWU6ICJ0LXRpdGxlIiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDExMwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sICJNeSBUb2RvIExpc3QiKSwgcmVuZGVySW5wdXQoKSwgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnIiLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMTUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgaXRlbXMubWFwKGl0ZW0gPT4gUmVhY3QuY3JlYXRlRWxlbWVudChUb2RvSXRlbSwgewogICAga2V5OiBpdGVtLmlkLAogICAgdG9kbzogaXRlbSwKICAgIG9uQ29tcGxldGU6IHRvZ2dsZUl0ZW1Db21wbGV0ZWQsCiAgICBvbkRlbGV0ZTogZGVsZXRlSXRlbSwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDExNgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pKSkpKTsKfTsKCl9fc2lnbmF0dXJlX18oVG9kb0FwcCwgInVzZUZldGNoZXJ7ZmV0Y2hlcn1cbnVzZVN0YXRle1tpdGVtcywgc2V0SXRlbXNdKFtdKX1cbnVzZVN0YXRle1t0aXRsZSwgc2V0VGl0bGVdKCcnKX1cbnVzZUVmZmVjdHt9IiwgKCkgPT4gW3VzZUZldGNoZXJdKTsKCmNvbnN0IFRvZG9FeGFtcGxlID0gKCkgPT4gewogIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJ0b2RvLWNvbnRhaW5lciIsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAxMjUKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFRvZG9BcHAsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDEyNgogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pKTsKfTsKCmNvbnN0IF9kZWZhdWx0ID0gVG9kb0V4YW1wbGU7CmV4cG9ydCBkZWZhdWx0IF9kZWZhdWx0OwoKaWYgKHR5cGVvZiBUb2RvRXhhbXBsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgVG9kb0V4YW1wbGUgJiYgVG9kb0V4YW1wbGUgPT09IE9iamVjdChUb2RvRXhhbXBsZSkgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShUb2RvRXhhbXBsZSkpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVG9kb0V4YW1wbGUsICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJUb2RvRXhhbXBsZSIsCiAgICAgIGZpbGVuYW1lOiAic3JjL2NvbXBvbmVudHMvVG9kb0V4YW1wbGUudHN4IgogICAgfQogIH0pOwp9Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0IDogdW5kZWZpbmVkOwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihmZXRjaGVyT3B0aW9ucywgImZldGNoZXJPcHRpb25zIiwgIi9tZWRpYS9jeXJpYWMvMENDNTE2NkIwQ0M1MTY2Qi9Xb3JrL3JlYWN0LXVzZS1mZXRjaGVyL2RlbW8vc3JjL2NvbXBvbmVudHMvVG9kb0V4YW1wbGUudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoVG9kb0l0ZW0sICJUb2RvSXRlbSIsICIvbWVkaWEvY3lyaWFjLzBDQzUxNjZCMENDNTE2NkIvV29yay9yZWFjdC11c2UtZmV0Y2hlci9kZW1vL3NyYy9jb21wb25lbnRzL1RvZG9FeGFtcGxlLnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKFRvZG9BcHAsICJUb2RvQXBwIiwgIi9tZWRpYS9jeXJpYWMvMENDNTE2NkIwQ0M1MTY2Qi9Xb3JrL3JlYWN0LXVzZS1mZXRjaGVyL2RlbW8vc3JjL2NvbXBvbmVudHMvVG9kb0V4YW1wbGUudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoVG9kb0V4YW1wbGUsICJUb2RvRXhhbXBsZSIsICIvbWVkaWEvY3lyaWFjLzBDQzUxNjZCMENDNTE2NkIvV29yay9yZWFjdC11c2UtZmV0Y2hlci9kZW1vL3NyYy9jb21wb25lbnRzL1RvZG9FeGFtcGxlLnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKF9kZWZhdWx0LCAiZGVmYXVsdCIsICIvbWVkaWEvY3lyaWFjLzBDQzUxNjZCMENDNTE2NkIvV29yay9yZWFjdC11c2UtZmV0Y2hlci9kZW1vL3NyYy9jb21wb25lbnRzL1RvZG9FeGFtcGxlLnRzeCIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwubGVhdmVNb2R1bGUgOiB1bmRlZmluZWQ7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["/media/cyriac/0CC5166B0CC5166B/Work/react-use-fetcher/demo/src/components/TodoExample.tsx"],"names":["React","useEffect","useState","useFetcher","Fetcher","axios","fetcherOptions","buttonComponent","doRetry","loaderComponent","progress","show","color","tickDelay","min","max","TodoItem","todo","onComplete","onDelete","opacity","completed","textDecoration","title","TodoApp","fetcher","items","setItems","setTitle","load","request","get","fetch","result","addTodo","item","id","post","toggleItemCompleted","put","_","deleteItem","delete","filter","i","renderInput","e","target","value","map","TodoExample"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useFetcher, Fetcher, FetcherOptions } from 'use-fetcher-react';\nimport axios from 'axios';\n\nconst fetcherOptions: FetcherOptions = {\n  buttonComponent: ({ doRetry }) => (\n    <a className=\"button is-danger\" onClick={doRetry}>\n      Retry\n    </a>\n  ),\n  loaderComponent: () => <></>,\n  progress: {\n    show: true,\n    color: '#209cee',\n    tickDelay: { min: 50, max: 150 }\n  }\n};\n\nexport interface Todo {\n  id: number;\n  title: string;\n  completed: boolean;\n}\n\nexport interface TodoItemProps {\n  todo: Todo;\n  onComplete: (item: Todo) => void;\n  onDelete: (item: Todo) => void;\n}\n\nconst TodoItem: React.FC<TodoItemProps> = ({ todo, onComplete, onDelete }) => {\n  return (\n    <div className=\"todo-item\">\n      <div>\n        <span className=\"icon\" onClick={() => onComplete(todo)}\n          style={{ opacity: todo.completed ? 0.25 : 1 }}>\n          <i className=\"fas fa-check\"></i>\n        </span>\n        <span className=\"icon\" onClick={() => onDelete(todo)}>\n          <i className=\"fas fa-times\"></i>\n        </span>\n      </div>\n      <span style={{ textDecoration: todo.completed ? 'line-through' : 'none' }}>{todo.title}</span>\n    </div>\n  );\n};\n\nconst TodoApp = () => {\n  const fetcher = useFetcher(fetcherOptions);\n\n  const [items, setItems] = useState<Todo[]>([]);\n  const [title, setTitle] = useState('');\n\n  const load = () => {\n    let request = () => axios.get<Todo[]>('https://crudpi.io/587e1b/todo');\n    fetcher.fetch(request, result => {\n      setItems(result);\n    });\n  }\n  useEffect(() => load(), []);\n\n  const addTodo = () => {\n    if (!title) return;\n    const item: Todo = {\n      id: null as any,\n      title,\n      completed: false\n    };\n    let request = () => axios.post<Todo>('https://crudpi.io/587e1b/todo', item);\n    fetcher.fetch(request, todo => {\n      setItems([...items, todo]);\n    });\n  };\n\n  const toggleItemCompleted = (item: Todo) => {\n    let request = () => axios.put('https://crudpi.io/587e1b/todo/' + item.id, {\n      ...item,\n      completed: !item.completed\n    });\n    fetcher.fetch(request, _ => {\n      item.completed = !item.completed;\n      setItems([...items]);\n    });\n  };\n\n  const deleteItem = (item: Todo) => {\n    let request = () => axios.delete('https://crudpi.io/587e1b/todo/' + item.id);\n    fetcher.fetch(request, _ => {\n      setItems(items.filter(i => i !== item));\n    });\n  };\n\n  const renderInput = () => (\n    <div className=\"field has-addons\">\n      <div className=\"control\">\n        <input className=\"input\" type=\"text\" placeholder=\"My todo item\"\n          value={title} onChange={(e) => setTitle(e.target.value)} />\n      </div>\n      <div className=\"control\">\n        <a className=\"button is-primary\" onClick={addTodo}>\n          <span className=\"icon is-small\">\n            <i className=\"fas fa-plus\"></i>\n          </span>\n        </a>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"todo-card\">\n      <Fetcher fetcher={fetcher}>\n        <div className=\"t-container\">\n          <h5 className=\"t-title\">My Todo List</h5>\n          {renderInput()}\n          <br />\n          {items.map(item => <TodoItem key={item.id} todo={item} onComplete={toggleItemCompleted} onDelete={deleteItem} />)}\n        </div>\n      </Fetcher>\n    </div>\n  );\n}\n\nconst TodoExample: React.FC = () => {\n  return (\n    <div className=\"todo-container\">\n      <TodoApp />\n    </div>\n  );\n};\n\nexport default TodoExample;\n"]}]}